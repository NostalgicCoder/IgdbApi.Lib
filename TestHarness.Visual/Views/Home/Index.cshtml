@model GameSearch;

@{
    ViewData["Title"] = "Search For Game:";
}

<h2>Search For Game:</h2>

<form method="post" asp-action="Index">

    <label>Keyword:</label>
    <input asp-for="NameOfGame" class="form-control" style="width:400px" />

    <p></p>

    <label>Platform:</label>
    <select class="form-select" asp-for="SelectedPlatform" asp-items="@Model.Platforms" style="width:200px">
        <option>Please select one</option>
    </select>

    <p></p>

    <button type="submit" class="btn btn-primary">Search<i class="bi bi-filter"></i></button>

</form>

<p></p>

<div>

    @{
        if (Model.FullGameData.Game != null && Model.FullGameData.Covers != null)
        {
            <h2>@Model.FullGameData.GameDetails[0].name:</h2>

            <img src="@Model.FullGameData.LargeCoverUrl" width="264" height="374" />
            <img src="@Model.FullGameData.Covers[0].url" />

            <p></p>

            <h5>Release Date(s):</h5>

            if (Model.FullGameData.ReleaseDates != null)
            {
                <li>@String.Join(", ", Model.FullGameData.ReleaseDates.Select(x => x.human).ToArray())</li>
            }

            <p></p>

            <h5>Genre(s):</h5>

            if (Model.FullGameData.Genres != null)
            {
                <li>@String.Join(", ", Model.FullGameData.Genres.Select(x => x.name).ToArray())</li>
            }

            <p></p>

            <h5>Platforms:</h5>

            if (Model.FullGameData.Platforms != null)
            {
                <li>@String.Join(", ", Model.FullGameData.Platforms.Select(x => x.name).ToArray())</li>
            }

            <p></p>

            <h5>Summary:</h5>

            @Model.FullGameData.GameDetails[0].summary

            <p></p>

            <h5>Storyline:</h5>

            @Model.FullGameData.GameDetails[0].storyline

            <p></p>

            <h5>Artwork:</h5>

            if (Model.FullGameData.LargeArtworkUrls != null)
            {
                foreach (string item in Model.FullGameData.LargeArtworkUrls)
                {
                    <img src="@item" />
                }
            }
        }
    }

</div>